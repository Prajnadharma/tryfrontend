<template>
  <div class="container py-4">
    <h3 class="fw-bold text-success mb-3">Model Forest Tree Usada Bali ðŸŒ¿</h3>
    <p class="text-muted mb-4">
      Visualisasi hubungan antara penyakit, tanaman obat, dan khasiatnya.
    </p>

    <div class="bg-white p-3 rounded shadow-sm" style="height: 650px; overflow: hidden;">
      <Vue3D3Tree
        :data="usadaTree"
        orientation="vertical"
        :zoomable="true"
        :collapsible="true"
        node-text="name"
      />
    </div>
  </div>
</template>

<script setup>
import { ref } from 'vue'
import Vue3D3Tree from 'vue3-d3-tree'

/*
  ðŸŒ¿ Struktur hierarki model Usada:
  Usada Bali
   â”œâ”€ Sariawan
   â”‚   â””â”€ Daun Sirih
   â”‚        â”œâ”€ Antiseptik alami
   â”‚        â””â”€ Menyembuhkan luka di mulut
   â”œâ”€ Demam
   â”‚   â”œâ”€ Temulawak
   â”‚   â”‚    â”œâ”€ Meningkatkan daya tahan tubuh
   â”‚   â”‚    â””â”€ Menurunkan panas tubuh
   â”‚   â””â”€ Kunyit
   â”‚        â””â”€ Anti-inflamasi alami
   â”œâ”€ Nyeri Otot
   â”‚   â”œâ”€ Jahe
   â”‚   â”‚    â”œâ”€ Menghangatkan tubuh
   â”‚   â”‚    â””â”€ Melancarkan peredaran darah
   â”‚   â””â”€ Boreh Minyak Kelapa
   â”‚        â””â”€ Meredakan pegal dan nyeri sendi
   â””â”€ Batuk Berdahak
        â”œâ”€ Jeruk Nipis
        â”‚    â”œâ”€ Meluruhkan dahak
        â”‚    â””â”€ Menyegarkan tenggorokan
        â””â”€ Madu
             â””â”€ Melembutkan tenggorokan
*/

const usadaTree = ref({
  name: 'Usada Bali',
  children: [
    {
      name: 'Sariawan',
      children: [
        {
          name: 'Daun Sirih',
          children: [
            { name: 'Antiseptik alami' },
            { name: 'Menyembuhkan luka di mulut' }
          ]
        }
      ]
    },
    {
      name: 'Demam',
      children: [
        {
          name: 'Temulawak',
          children: [
            { name: 'Meningkatkan daya tahan tubuh' },
            { name: 'Menurunkan panas tubuh' }
          ]
        },
        {
          name: 'Kunyit',
          children: [{ name: 'Anti-inflamasi alami' }]
        }
      ]
    },
    {
      name: 'Nyeri Otot',
      children: [
        {
          name: 'Jahe',
          children: [
            { name: 'Menghangatkan tubuh' },
            { name: 'Melancarkan peredaran darah' }
          ]
        },
        {
          name: 'Boreh Minyak Kelapa',
          children: [{ name: 'Meredakan pegal dan nyeri sendi' }]
        }
      ]
    },
    {
      name: 'Batuk Berdahak',
      children: [
        {
          name: 'Jeruk Nipis',
          children: [
            { name: 'Meluruhkan dahak' },
            { name: 'Menyegarkan tenggorokan' }
          ]
        },
        {
          name: 'Madu',
          children: [{ name: 'Melembutkan tenggorokan' }]
        }
      ]
    }
  ]
})
</script>

<style scoped>
svg text {
  fill: #198754;
  font-weight: 600;
  font-size: 13px;
}
.node circle {
  fill: #e9f8ef;
  stroke: #198754;
  stroke-width: 2;
}
.container {
  max-width: 1100px;
}
</style>
